{# templates/locataire/_reservation_cards.html.twig #}
{% for reservation in reservations %}
<div class="reservation-card">
    <div class="reservation-image">
        {% if reservation.emplacement.photos|length > 0 %}
            <img src="{{ asset('uploads/photos/' ~ reservation.emplacement.photos[0].cheminFichier) }}" 
                 alt="{{ reservation.emplacement.titreAnnonce }}">
        {% else %}
            <div style="width:100%; height:100%; display:flex; align-items:center; justify-content:center; background:#f5f5f5; color:#999;">
                ğŸ“·
            </div>
        {% endif %}
    </div>
    
    <div class="reservation-info">
        <h3>{{ reservation.emplacement.titreAnnonce }}</h3>
        <div class="reservation-details">
            ğŸ“ {{ reservation.emplacement.centreCommercial.nomCentre }} â€¢ 
            {{ reservation.emplacement.typeEmplacement }} â€¢ 
            {{ reservation.emplacement.surface }} mÂ²
        </div>
        <div class="reservation-details">
            ğŸ“… Du {{ reservation.dateDebut|date('d/m/Y') }} au {{ reservation.dateFin|date('d/m/Y') }}
        </div>
        <span class="reservation-status status-{{ reservation.statutCssClass }}">
            {{ reservation.statut.icone }} {{ reservation.statutLibelle }}
        </span>
    </div>
    
    <div class="reservation-actions">
        <div class="reservation-price">{{ reservation.montantTotal }}â‚¬</div>
        <a href="{{ path('locataire_reservation_detail', {id: reservation.id}) }}" 
           class="btn-small btn-primary-small">Voir dÃ©tails</a>
        <a href="#" class="btn-small btn-secondary-small">Contacter</a>
    </div>
</div>
{% endfor %}
