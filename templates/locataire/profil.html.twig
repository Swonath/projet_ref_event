{% extends 'locataire/base_dashboard.html.twig' %}

{% block title %}Mon profil - Références Événements{% endblock %}

{% block dashboard_content %}

<div class="page-header">
    <h1 class="page-title">Mon profil</h1>
    <p class="page-subtitle">Gérez vos informations personnelles</p>
</div>

<form method="post" action="{{ path('locataire_profil_edit') }}" enctype="multipart/form-data">
    
    <div class="section">
        <h2 class="section-title">Informations personnelles</h2>
        
        <div class="form-row">            
            <div class="form-group">
                <label class="form-label required">Nom</label>
                <input type="text" name="nom" class="form-control" value="{{ app.user.nom }}" required>
            </div>
        </div>
        
        <div class="form-row">
            <div class="form-group">
                <label class="form-label required">Email</label>
                <input type="email" name="email" class="form-control" value="{{ app.user.email }}" required>
                <small class="form-text">Cet email est utilisé pour vous connecter</small>
            </div>
            
            <div class="form-group">
                <label class="form-label required">Téléphone</label>
                <input type="tel" name="telephone" class="form-control" value="{{ app.user.telephone }}" required>
            </div>
        </div>
        
        <div class="form-group">
            <label class="form-label">Adresse</label>
            <input type="text" name="adresse" class="form-control" value="{{ app.user.adresseFacturation ?? '' }}" placeholder="Numéro et nom de rue">
        </div>
        
        <div class="form-row">
            <div class="form-group">
                <label class="form-label">Code postal</label>
                <input type="text" name="codePostal" class="form-control" value="{{ app.user.codePostal ?? '' }}" placeholder="44000">
            </div>
            
            <div class="form-group">
                <label class="form-label">Ville</label>
                <input type="text" name="ville" class="form-control" value="{{ app.user.ville ?? '' }}" placeholder="Nantes">
            </div>
        </div>
    </div>

    <div class="section">
        <h2 class="section-title">Informations professionnelles</h2>
        
        <div class="form-row">
            <div class="form-group">
                <label class="form-label">SIRET</label>
                <input type="text" name="siret" class="form-control" value="{{ app.user.siret ?? '' }}" placeholder="123 456 789 00012">
            </div>

            <div class="form-group">
                <label class="form-label">Type d'activité</label>
                <input type="text" name="typeActivite" class="form-control" value="{{ app.user.typeActivite ?? '' }}" placeholder="123 456 789 00012">
            </div>
        </div>
    </div>

    <div class="section">
        <h2 class="section-title">Sécurité</h2>
        
        <div class="form-group">
            <label class="form-label">Nouveau mot de passe</label>
            <input type="password" name="nouveau_mot_de_passe" class="form-control" placeholder="Laissez vide pour ne pas changer">
            <small class="form-text">Minimum 8 caractères</small>
        </div>
        
        <div class="form-group">
            <label class="form-label">Confirmer le mot de passe</label>
            <input type="password" name="confirmer_mot_de_passe" class="form-control" placeholder="Confirmez le nouveau mot de passe">
        </div>
    </div>

    <div class="form-actions">
        <button type="submit" class="btn-primary">
            Enregistrer les modifications
        </button>
        <a href="{{ path('locataire_dashboard') }}" class="btn-secondary">
            Annuler
        </a>
    </div>

</form>

{% endblock %}
